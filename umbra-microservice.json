{"openapi":"3.1.0","servers":[{"url":"http://localhost:8081/api/v1"}],"info":{"title":"Umbra Microservice","description":"Umbra's microservice. Use `serviceName: 'umbra'` in the gateway to access","version":"1.0-dev"},"paths":{"/catalog/search":{"post":{"operationId":"catalog_search","summary":"Catalog Search","description":"Search scenes within Umbra's Catalog API","tags":["catalog"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","description":"Used for pagination"},"limit":{"type":"number","exclusiveMinimum":0,"maximum":30,"default":30},"filters":{"type":"object","properties":{"timeWindow":{"type":"object","properties":{"gte":{"type":"string","format":"date-time"},"lte":{"type":"string","format":"date-time"}},"required":["gte","lte"],"description":"In format: YYYY-MM-DDThh:mm:ssZ"},"intersects":{"type":"object","properties":{"type":{"type":"string","enum":["Point","Polygon","LineString","MultiPoint","MultiPolygon"]},"coordinates":{"type":"array","items":{}}},"required":["type","coordinates"]},"frequencyBands":{"type":"array","items":{"type":"string","enum":["X"]},"minItems":1},"polarizations":{"type":"array","items":{"type":"string","enum":["VV","HH"]},"minItems":1},"looksAzimuth":{"type":"object","properties":{"gte":{"type":"number","minimum":1,"maximum":9},"lte":{"type":"number","minimum":1,"maximum":9}}},"resolutionRange":{"type":"object","properties":{"gte":{"type":"number","minimum":0,"maximum":2},"lte":{"type":"number","minimum":0,"maximum":2}}},"incidenceAngle":{"type":"object","properties":{"gte":{"type":"number","minimum":0,"maximum":90},"lte":{"type":"number","minimum":0,"maximum":90}}}},"required":["timeWindow","intersects"]}},"required":["filters"]}}}},"responses":{"200":{"description":"200 OK","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","const":true},"data":{"type":"object","properties":{"type":{"type":"string","example":"FeatureCollection"},"context":{"type":"object","properties":{"limit":{"type":"number"},"returned":{"type":"number"}},"required":["limit","returned"]},"features":{"type":"array","items":{"$ref":"#/components/schemas/ArchiveSearchResponseFeature"}},"links":{"type":"array","items":{"type":"object","properties":{"rel":{"type":"string","example":"next"},"type":{"type":"string","description":"MIME type of link's target"},"method":{"type":"string","description":"HTTP method to use when contacting href. Assume GET if not given","example":"POST"},"href":{"type":"string","description":"Path only. No protocol or host included","example":"/api/v1/catalog/search"},"body":{"type":"object","additionalProperties":{}}},"required":["rel","href"]}}},"required":["type","context","features","links"]}},"required":["success","data"]}}}},"400":{"description":"400 Bad Request","summary":"Server detected an error in the request body and couldn't process it","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","const":false},"message":{"type":"string"},"description":{"type":"string","description":"Provided when error info in `message` is not enough to convey error message info"}},"required":["success","message"]}}}},"429":{"description":"429 Too many requests","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","const":false},"message":{"type":"string"},"description":{"type":"string","description":"Provided when error info in `message` is not enough to convey error message info"}},"required":["success","message"]}}}},"500":{"description":"500 Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","const":false},"message":{"type":"string"},"description":{"type":"string","description":"Provided when error info in `message` is not enough to convey error message info"}},"required":["success","message"]}}}}}}}},"components":{"schemas":{"ArchiveSearchResponseFeature":{"type":"object","properties":{"id":{"type":"string"},"bbox":{"type":"array","items":{"type":"number"},"minItems":4,"maxItems":6,"description":"4 items for 2D bbox and 6 for 3D bbox"},"type":{"type":"string","example":"Feature"},"assets":{"type":"object","additionalProperties":{"type":"object","properties":{"href":{"type":"string","format":"uri","description":"Link to asset"},"type":{"type":"string","example":"image/png"},"roles":{"type":"array","items":{"type":"string"},"example":["thumbnail"]},"title":{"type":"string","example":"Thumbnail for e7269273-e7a1-4b44-a66c-3a792358510c"},"description":{"type":"string","example":"512x512 PNG thumbnail for e7269273-e7a1-4b44-a66c-3a792358510c"}},"required":["href"]}},"geometry":{"type":"object","properties":{"type":{"type":"string","enum":["Point","Polygon","LineString","MultiPoint","MultiPolygon"]},"coordinates":{"type":"array","items":{}}},"required":["type","coordinates"]},"collection":{"type":"string","example":"umbra-sar"},"properties":{"type":"object","additionalProperties":{}},"stac_version":{"type":"string","example":"1.0.0"},"stac_extensions":{"type":"array","items":{"type":"string"}}},"required":["id","bbox","type","assets","geometry","collection","properties"]}}}}